### 10.9.3 优化器提示

一种控制优化器策略的方法是设置 `optimizer_switch` 系统变量（请参阅 10.9.2 节，“可切换的优化”）。对该变量的更改会影响所有后续查询的执行；要使一个查询与另一个查询不同，必须在每个查询之前更改 `optimizer_switch`。

另一种控制优化器的方法是使用优化器提示，可以在单个语句中指定优化器提示。由于优化器提示应用于每个语句，因此它们比使用 `optimizer_switch` 更能精细地控制语句执行计划。例如，您可以为语句中的一个表启用某个优化，而为另一个表禁用该优化。语句中的提示优先于 `optimizer_switch` 标志。

示例：

```sql
SELECT /*+ NO_RANGE_OPTIMIZATION(t3 PRIMARY, f2_idx) */ f1
  FROM t3 WHERE f1 > 30 AND f1 < 33;
SELECT /*+ BKA(t1) NO_BKA(t2) */ * FROM t1 INNER JOIN t2 WHERE ...;
SELECT /*+ NO_ICP(t1, t2) */ * FROM t1 INNER JOIN t2 WHERE ...;
SELECT /*+ SEMIJOIN(FIRSTMATCH, LOOSESCAN) */ * FROM t1 ...;
EXPLAIN SELECT /*+ NO_ICP(t1) */ * FROM t1 WHERE ...;
SELECT /*+ MERGE(dt) */ * FROM (SELECT * FROM t1) AS dt;
INSERT /*+ SET_VAR(foreign_key_checks=OFF) */ INTO t2 VALUES(2);
```

这里描述的优化器提示不同于 10.9.4 节，“索引提示” 中描述的索引提示。优化器和索引提示可以分别或一起使用。

- [优化器提示概述](#优化器提示概述)
- [优化器提示语法](#优化器提示语法)
- [连接顺序优化器提示](#连接顺序优化器提示)
- [表级优化器提示](#表级优化器提示)
- [索引级优化器提示](#索引级优化器提示)
- [子查询优化器提示](#子查询优化器提示)
- [语句执行时间优化器提示](#语句执行时间优化器提示)
- [变量设置提示语法](#变量设置提示语法)
- [资源组提示语法](#资源组提示语法)
- [用于命名查询块的优化器提示](#用于命名查询块的优化器提示)