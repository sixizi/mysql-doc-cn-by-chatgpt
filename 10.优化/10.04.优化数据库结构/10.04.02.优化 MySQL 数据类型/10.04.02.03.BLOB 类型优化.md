#### 10.4.2.3 BLOB 类型优化

在存储包含文本数据的大型 BLOB 时，考虑先对其进行压缩。当整个表已由 InnoDB 或 MyISAM 压缩时，不要使用此技术。

对于包含多个列的表，为减少查询中不使用 BLOB 列时的内存需求，考虑将 BLOB 列拆分到一个单独的表中，并在需要时使用连接查询引用它。

由于检索和显示 BLOB 值的性能需求可能与其他数据类型非常不同，您可以将特定于 BLOB 的表放在不同的存储设备上，甚至是单独的数据库实例中。例如，检索 BLOB 可能需要大规模的顺序磁盘读取，这更适合于传统硬盘而不是 SSD 设备。

请参阅10.4.2.2 字符和字符串类型优化了解为什么二进制 `VARCHAR` 列有时比等效的 BLOB 列更优。

与其对非常长的文本字符串进行相等性测试，您可以将列值的哈希存储在一个单独的列中，索引该列，并在查询中测试哈希值。（使用 `MD5()` 或 `CRC32()` 函数生成哈希值。）由于哈希函数可能为不同的输入生成重复结果，因此仍需要在查询中包含子句 `AND blob_column = long_string_value` 以防止错误匹配；性能优势来自于哈希值的较小、易于扫描的索引。