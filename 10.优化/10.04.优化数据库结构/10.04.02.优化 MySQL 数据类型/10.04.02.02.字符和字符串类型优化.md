### 10.4.2.2 字符和字符串类型优化

对于字符和字符串列，请遵循以下指南：

- **使用二进制排序规则**：当您不需要特定语言的排序功能时，使用二进制排序规则进行快速比较和排序操作。您可以在特定查询中使用 `BINARY` 运算符来使用二进制排序。

- **统一字符集和排序规则**：在比较来自不同列的值时，尽可能将这些列声明为相同的字符集和排序规则，以避免在运行查询时进行字符串转换。

- **使用二进制 VARCHAR**：对于小于 8KB 的列值，使用二进制 `VARCHAR` 而不是 `BLOB`。`GROUP BY` 和 `ORDER BY` 子句可能会生成临时表，如果原始表不包含任何 `BLOB` 列，这些临时表可以使用 `MEMORY` 存储引擎。

- **拆分字符串列**：如果一个表包含如姓名和地址等字符串列，但许多查询并不检索这些列，考虑将字符串列拆分到一个单独的表中，并在需要时使用外键进行连接查询。当 MySQL 检索行中的任何值时，它会读取包含该行所有列（可能还有其他相邻行）的数据块。保持每行小巧，只包含最常用的列，可以使每个数据块中容纳更多行。这种紧凑的表可以减少磁盘 I/O 和内存使用，从而加快常见查询的速度。

- **优化 InnoDB 主键**：在 InnoDB 表中使用随机生成的值作为主键时，如果可能，请在前面加上递增值，如当前日期和时间。当连续的主键值物理上彼此接近存储时，InnoDB 可以更快地插入和检索它们。

请参阅 [10.4.2.1 数值数据优化](#10.4.2.1-数值数据优化) 了解为什么数值列通常优于等效的字符串列。