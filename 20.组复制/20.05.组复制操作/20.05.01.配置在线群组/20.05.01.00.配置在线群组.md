### 20.5.1 配置在线群组

- [20.5.1.1 更改主节点](./20.05.01.01.更改主节点.md)
- [20.5.1.2 更改群组模式](./20.05.01.02.更改群组模式.md)
- [20.5.1.3 使用组复制的群组写入共识](./20.05.01.03.使用组复制的群组写入共识.md)
- [20.5.1.4 设置群组的通信协议版本](./20.05.01.04.设置群组的通信协议版本.md)
- [20.5.1.5 配置成员操作](./20.05.01.05.配置成员操作.md)

您可以通过使用一组函数来配置正在运行的群组复制，这些函数依赖于群组操作协调器。这些功能由 8.0.13 及更高版本的群组复制插件安装。本节描述了如何对正在运行的群组进行更改，以及可用的功能。

> 重要提示
>
> 为了使协调器能够在运行的群组上配置群组范围的操作，所有成员都必须运行 MySQL 8.0.13 或更高版本，并且已安装这些功能。

要使用这些功能，连接到运行群组的一个成员，并通过 SELECT 语句调用该功能。群组复制插件处理操作及其参数，协调器将其发送到调用功能的成员可见的所有成员。如果操作被接受，所有成员执行该操作并在完成时发送终止消息。一旦所有成员声明操作完成，调用成员将结果返回给客户端。

在配置整个群组时，操作的分布式性质意味着它们与群组复制插件的许多进程交互，因此您应该注意以下事项：

**您可以在任何地方发起配置操作。**如果您想让成员 A 成为新的主节点，您不需要在成员 A 上调用操作。所有操作都以协调的方式在所有群组成员上发送和执行。此外，操作的分布式执行有一个不同的后果：如果调用成员死亡，任何已经运行的配置进程将继续在其他成员上运行。在极不可能的事件中，调用成员死亡，您仍然可以使用监控功能来确保其他成员成功完成操作。

**所有成员必须在线。**为了简化迁移或选举过程并尽可能快地保证它们，群组中不能包含任何当前处于分布式恢复过程中的成员，否则配置操作将被发起语句的成员拒绝。

**在配置更改期间，不能有成员加入群组。**任何试图在协调的配置更改期间加入群组的成员都会离开群组并取消其加入过程。

**一次只能进行一次配置。**正在执行配置更改的群组不能接受任何其他群组配置更改，因为并发的配置操作可能导致成员分歧。

**所有成员必须运行 MySQL 8.0.13 或更高版本。**由于配置操作的分布式性质，所有成员都必须识别它们以执行它们。因此，如果群组中存在运行 MySQL Server 8.0.12 或更低版本的任何服务器，操作将被拒绝。