## 6.2 访问控制和账户管理

[6.2.1 账户用户名和密码](./06.02.01.账户用户名和密码.md)
[6.2.2 MySQL提供的权限](./06.02.02.MySQL提供的权限.md)
[6.2.3 授权表](./06.02.03.授权表.md)
[6.2.4 指定账户名称](./06.02.04.指定账户名称.md)
[6.2.5 指定角色名称](./06.02.05.指定角色名称.md)
[6.2.6 访问控制，第1阶段：连接验证](./06.02.06.访问控制，第1阶段：连接验证.md)
[6.2.7 访问控制，第2阶段：请求验证](./06.02.07.访问控制，第2阶段：请求验证.md)
[6.2.8 添加账户、分配权限及删除账户](./06.02.08.添加账户、分配权限及删除账户.md)
[6.2.9 保留账户](./06.02.09.保留账户.md)
[6.2.10 使用角色](./06.02.10.使用角色.md)
[6.2.11 账户类别](./06.02.11.账户类别.md)
[6.2.12 使用部分撤销限制权限](./06.02.12.使用部分撤销限制权限.md)
[6.2.13 权限更改生效时机](./06.02.13.权限更改生效时机.md)
[6.2.14 分配账户密码](./06.02.14.分配账户密码.md)
[6.2.15 密码管理](./06.02.15.密码管理.md)
[6.2.16 服务器处理过期密码](./06.02.16.服务器处理过期密码.md)
[6.2.17 可插拔认证](./06.02.17.可插拔认证.md)
[6.2.18 多因素认证](./06.02.18.多因素认证.md)
[6.2.19 代理用户](./06.02.19.代理用户.md)
[6.2.20 账户锁定](./06.02.20.账户锁定.md)
[6.2.21 设置账户资源限制](./06.02.21.设置账户资源限制.md)
[6.2.22 故障排除MySQL连接问题](./06.02.22.故障排除MySQL连接问题.md)
[6.2.23 基于SQL的账户活动审计](./06.02.23.基于SQL的账户活动审计.md)

MySQL允许创建账户，让客户端用户连接到服务器并访问服务器管理的数据。MySQL权限系统的主要功能是认证从某个主机连接的用户，并将该用户与数据库上的权限（如SELECT、INSERT、UPDATE和DELETE）关联。其它功能包括授予执行管理操作的权限。

为了控制哪些用户可以连接，每个账户都可以被分配认证凭证，如密码。MySQL账户的用户接口由SQL语句组成，如CREATE USER、GRANT和REVOKE。请参见第13.7.1节，“账户管理语句”。

MySQL权限系统确保所有用户只能执行允许他们的操作。作为用户，当你连接到MySQL服务器时，你的身份由你连接的主机和你指定的用户名确定。当你连接后发出请求时，系统会根据你的身份和你想要做的事情授予权限。

MySQL考虑你的主机名和用户名来识别你，因为没有理由假设一个给定的用户名在所有主机上都属于同一个人。例如，从office.example.com连接的用户joe不一定是从home.example.com连接的用户joe。MySQL通过允许你区分具有相同名字的不同主机上的用户来处理这个问题：你可以为office.example.com上的joe连接授予一组权限，为home.example.com上的joe连接授予另一组权限。要查看给定账户的权限，请使用SHOW GRANTS语句。例如：

```mysql
SHOW GRANTS FOR 'joe'@'office.example.com';
SHOW GRANTS FOR 'joe'@'home.example.com';
```

在内部，服务器将权限信息存储在mysql系统数据库的授权表中。MySQL服务器在启动时将这些表的内容读入内存，并根据内存中的授权表副本做出访问控制决策。

当你运行客户端程序连接到服务器时，MySQL访问控制涉及两个阶段：

**第1阶段：**服务器根据你的身份和你是否能通过提供正确的密码来验证你的身份，接受或拒绝连接。

**第2阶段：**假设你能够连接，服务器检查你发出的每个语句，以确定你是否有足够的权限执行它。例如，如果你尝试从数据库中的表中选择行或从数据库中删除表，服务器会验证你是否拥有该表的SELECT权限或数据库的DROP权限。

有关每个阶段发生情况的更详细描述，请参见第[6.2.6节，访问控制，第1阶段：连接验证](./06.02.06.访问控制，第1阶段：连接验证.md)

，和[第6.2.7节，访问控制，第2阶段：请求验证](./06.02.07.访问控制，第2阶段：请求验证.md)。有关诊断权限相关问题的帮助，请参见[第6.2.22节，故障排除MySQL连接问题](./06.02.22.故障排除MySQL连接问题.md)

如果你的权限在你连接时被更改（无论是你自己还是别人），这些更改不一定会立即对你发出的下一个语句生效。有关服务器重新加载授权表的条件的详细信息，请参见[第6.2.13节，权限更改生效时机](./06.02.13.权限更改生效时机.md)。

有些事情你不能使用MySQL权限系统做到：

- 你不能明确指定给定用户应该被拒绝访问。也就是说，你不能明确匹配一个用户然后拒绝连接。

- 你不能指定一个用户有权限在数据库中创建或删除表，但没有权限创建或删除数据库本身。

- 密码适用于全局账户。你不能将密码与特定对象（如数据库、表或例程）关联。