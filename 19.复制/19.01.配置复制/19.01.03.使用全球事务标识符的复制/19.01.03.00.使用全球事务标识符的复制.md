### 19.1.3 使用全局事务标识符（GTIDs）的复制

- [19.1.3.1 GTID格式和存储](./19.01.03.01.GTID格式和存储.md)
- [19.1.3.2 GTID生命周期](./19.01.03.02.GTID生命周期.md)
- [19.1.3.3 GTID自动定位](./19.01.03.03.GTID自动定位.md)
- [19.1.3.4 使用GTIDs设置复制](./19.01.03.04.使用GTIDs设置复制.md)
- [19.1.3.5 使用GTIDs进行故障转移和扩展](./19.01.03.05.使用GTIDs进行故障转移和扩展.md)
- [19.1.3.6 从没有GTIDs的源复制到具有GTIDs的副本](./19.01.03.06.从没有GTIDs的源复制到具有GTIDs的副本.md)
- [19.1.3.7 使用GTIDs复制的限制](./19.01.03.07.使用GTIDs复制的限制.md)
- [19.1.3.8 操作GTIDs的存储函数示例](./19.01.03.08.操作GTIDs的存储函数示例.md)

本节解释了使用全局事务标识符（GTIDs）的基于事务的复制。使用GTIDs时，每个事务在源服务器上提交和由任何副本应用时都可以被识别和追踪；这意味着使用GTIDs时，启动新副本或故障转移到新源时，不必参考日志文件或这些文件内的位置，这大大简化了这些任务。因为基于GTID的复制完全是基于事务的，所以确定源和副本是否一致很简单；只要源上提交的所有事务也在副本上提交，两者之间的一致性就得到了保证。你可以使用基于语句的或基于行的复制与GTIDs（见第19.2.1节，“复制格式”）；然而，为了获得最佳结果，我们建议你使用基于行的格式。

GTIDs总是在源和副本之间保留。这意味着你总是可以通过检查其二进制日志来确定任何副本上应用的任何事务的源。此外，一旦给定GTID的事务在给定服务器上提交，任何具有相同GTID的后续事务都会被该服务器忽略。因此，源上提交的事务在副本上最多只能应用一次，这有助于保证一致性。

本节讨论以下主题：

- 如何定义和创建GTIDs，以及它们在MySQL服务器中的表示（见第19.1.3.1节，“GTID格式和存储”）。

- GTID的生命周期（见第19.1.3.2节，“GTID生命周期”）。

- 用于同步使用GTIDs的副本和源的自动定位功能（见第19.1.3.3节，“GTID自动定位”）。

- 设置和启动基于GTID的复制的一般程序（见第19.1.3.4节，“使用GTIDs设置复制”）。

- 使用GTIDs配置新复制服务器时建议的方法（见第19.1.3.5节，“使用GTIDs进行故障转移和扩展”）。

- 使用基于GTID的复制时你应该知道的限制和局限性（见第19.1.3.7节，“使用GTIDs复制的限制”）。

- 你可以用来处理GTIDs的存储函数（见第19.1.3.8节，“操作GTIDs的存储函数示例”）。

有关MySQL服务器选项和与基于GTID的复制相关的变量的信息，请参见第19.1.6.5节，“全局事务ID系统变量”。另见第14.18.2节，“用于全局事务标识符（GTIDs）的函数”，描述了MySQL 8.0支持的与GTIDs一起使用的SQL函数。