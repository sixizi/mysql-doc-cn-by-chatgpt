### 19.1.5 MySQL多源复制

- [19.1.5.1 配置多源复制](./19.01.05.01.配置多源复制.md)
- [19.1.5.2 为基于GTID的复制配置多源副本](./19.01.05.02.为基于GTID的复制配置多源副本.md)
- [19.1.5.3 向多源副本添加基于GTID的源](./19.01.05.03.向多源副本添加基于GTID的源.md)
- [19.1.5.4 向多源副本添加基于二进制日志的复制源](./19.01.05.04.向多源副本添加基于二进制日志的复制源.md)
- [19.1.5.5 启动多源副本](./19.01.05.05.启动多源副本.md)
- [19.1.5.6 停止多源副本](./19.01.05.06.停止多源副本.md)
- [19.1.5.7 重置多源副本](./19.01.05.07.重置多源副本.md)
- [19.1.5.8 监控多源复制](./19.01.05.08.监控多源复制.md)

MySQL多源复制使副本能够并行从多个直接来源接收事务。在多源复制拓扑中，副本为其应从中接收事务的每个来源创建一个复制通道。有关复制通道如何工作的更多信息，请参见第19.2.2节，“复制通道”。

您可能选择实现多源复制来实现以下目标：

- 将多个服务器备份到单个服务器。

- 合并表分片。

- 将多个服务器的数据汇总到单个服务器。

多源复制不实现应用事务时的冲突检测或解决，这些任务必要时留给应用程序来完成。

> **注意**
>
> 多源副本上的每个通道必须从不同的来源复制。您不能设置单个副本到单一来源的多个复制通道。这是因为副本在复制拓扑中的服务器ID必须是唯一的。来源仅通过服务器ID来区分副本，而不是复制通道的名称，因此它不能识别来自同一副本的不同复制通道。

通过将系统变量`replica_parallel_workers`（从MySQL 8.0.26开始）或`slave_parallel_workers`设置为大于0的值，也可以将多源副本设置为多线程副本。在多源副本上这样做时，副本上的每个通道都有指定数量的应用线程，加上一个协调线程来管理它们。您不能为单个通道配置应用线程的数量。

从MySQL 8.0开始，可以在特定复制通道上为多源副本配置复制过滤器。当多个来源上存在相同的数据库或表时，且您只需要副本从一个来源复制它时，可以使用通道特定的复制过滤器。对于基于GTID的复制，如果相同的事务可能从多个来源到达（例如在钻石拓扑中），您必须确保所有通道上的过滤设置相同。有关更多信息，请参见第19.2.5.4节，“基于复制通道的过滤器”。

本节提供了如何为多源复制配置源和副本、如何启动、停止和重置多源副本以及如何监控多源复制的教程。