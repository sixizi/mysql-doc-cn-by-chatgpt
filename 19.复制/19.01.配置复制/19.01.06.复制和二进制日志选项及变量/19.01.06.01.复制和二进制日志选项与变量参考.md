#### 19.1.6.1 复制和二进制日志选项与变量参考

以下两个部分提供了与复制和二进制日志相关的 MySQL 命令行选项和系统变量的基本信息。

##### 复制选项和变量

以下列表中的命令行选项和系统变量与复制源服务器和副本服务器相关。第 19.1.6.2 节“复制源选项和变量”提供了与复制源服务器相关的选项和变量的更详细信息。有关与副本相关的选项和变量的更多信息，请参见第 19.1.6.3 节“副本服务器选项和变量”。

- `abort-slave-event-count`: mysql-test 使用的选项，用于复制的调试和测试。
- `auto_increment_increment`: `AUTO_INCREMENT` 列按此值递增。
- `auto_increment_offset`: 添加到 `AUTO_INCREMENT` 列的偏移量。
- `Com_change_master`: `CHANGE REPLICATION SOURCE TO` 和 `CHANGE MASTER TO` 语句的计数。
- `Com_change_replication_source`: `CHANGE REPLICATION SOURCE TO` 和 `CHANGE MASTER TO` 语句的计数。
- `Com_replica_start`: `START REPLICA` 和 `START SLAVE` 语句的计数。
- `Com_replica_stop`: `STOP REPLICA` 和 `STOP SLAVE` 语句的计数。
- `Com_show_master_status`: `SHOW MASTER STATUS` 语句的计数。
- `Com_show_replica_status`: `SHOW REPLICA STATUS` 和 `SHOW SLAVE STATUS` 语句的计数。
- `Com_show_replicas`: `SHOW REPLICAS` 和 `SHOW SLAVE HOSTS` 语句的计数。
- `Com_show_slave_hosts`: `SHOW REPLICAS` 和 `SHOW SLAVE HOSTS` 语句的计数。
- `Com_show_slave_status`: `SHOW REPLICA STATUS` 和 `SHOW SLAVE STATUS` 语句的计数。
- `Com_slave_start`: `START REPLICA` 和 `START SLAVE` 语句的计数。
- `Com_slave_stop`: `STOP REPLICA` 和 `STOP SLAVE` 语句的计数。
- `disconnect-slave-event-count`: mysql-test 使用的选项，用于复制的调试和测试。
- `enforce_gtid_consistency`: 阻止执行无法以事务安全方式记录的语句。
- `expire_logs_days`: 这么多天后清除二进制日志。
- `gtid_executed`: 全局：二进制日志中的所有 GTID（全局）或当前事务（会话）。只读。
- `gtid_executed_compression_period`: 每发生这么多次事务就压缩 `gtid_executed` 表一次。0 表示永不压缩此表。仅在禁用二进制日志时适用。
- `gtid_mode`: 控制是否启用基于 GTID 的日志记录以及事务日志可以包含哪种类型。
- `gtid_next`: 为后续事务或事务指定 GTID；详情请参阅文档。
- `gtid_owned`: 此客户端（会话）或所有客户端拥有的 GTID 集，以及拥有者的线程 ID（全局）。只读。
- `gtid_purged`: 已从二进制日志中清除的所有 GTID 集。
- `immediate_server_version`: 直接复制源的 MySQL 服务器版本号。
- `init_replica`: 副本连接到源时执行的语句。
- `init_slave`: 副本连接到源时执行的语句。
- `log_bin_trust_function_creators`: 如果等于 0（默认），则当使用 `--log-bin` 时，只允许拥有 SUPER 权限的用户创建存储函数，且仅当创建的函数不破坏二进制日志时。
- `log_statements_unsafe_for_binlog`: 禁止将错误 1592 警告写入错误日志。
- `master-info-file`: 记录源信息和 I/O 复制线程在源二进制日志中的位置的文件的位置和名称。
- `master-retry-count`: 副本尝试连接到源之前的尝试次数。
- `master_info_repository`: 是否将包含源信息和复制 I/O 线程位置的连接元数据存储库写入文件或表。
- `max_relay_log_size`: 如果非零，当其大小超过此值时，中继日志会自动轮换。如果为零，则轮换发生的大小由 `max_binlog_size` 的值决定。
- `original_commit_timestamp`: 事务在原始源上提交的时间。
- `original_server_version`: 事务最初提交的服务器的 MySQL 服务器版本号。
- `relay_log`: 中继日志的位置和基本名称。
- `relay_log_basename`: 中继日志的完整路径，包括文件名。
- `relay_log_index`: 用于保存最后中继日志列表的文件的位置和名称。
- `relay_log_info_file`: 副本记录有关中继日志的信息的应用程序元数据存储库的文件名。
- `relay_log_info_repository`: 是否将复制 SQL 线程在中继日志中的位置写入文件或表。
- `relay_log_purge`: 确定是否清除中继日志。
- `relay_log_recovery`: 是否启用从源在启动时自动恢复中继日志文件的恢复；对于崩溃安全的副本必须启用。
- `relay_log_space_limit`: 所有中继日志使用的最大空间。
- `replica_checkpoint_group`: 多线程副本处理的最大事务数，之后调用检查点操作以更新进度状态。NDB Cluster 不支持。
- `replica_checkpoint_period`: 更新多线程副本的进度状态并在这么多毫秒后将中继日志信息刷新到磁盘。NDB Cluster 不支持。
- `replica_compressed_protocol`: 使用源/副本协议的压缩。

- `replica_exec_mode`: 允许在 IDEMPOTENT 模式（抑制键和某些其他错误）和 STRICT 模式之间切换复制线程；STRICT 模式是默认设置，除了 NDB Cluster 总是使用 IDEMPOTENT。
- `replica_load_tmpdir`: 副本在复制 LOAD DATA 语句时应将其临时文件放置的位置。
- `replica_max_allowed_packet`: 可以从复制源服务器发送到副本的数据包的最大大小，以字节为单位；覆盖 `max_allowed_packet`。
- `replica_net_timeout`: 等待来自源/副本连接的更多数据之前的秒数，然后中止读取。
- `Replica_open_temp_tables`: 复制 SQL 线程当前打开的临时表的数量。
- `replica_parallel_type`: 告诉副本使用时间戳信息（`LOGICAL_CLOCK`）或数据库分区（`DATABASE`）来并行化事务。
- `replica_parallel_workers`: 执行复制事务的应用程序线程的数量；当此值为 0 或 1 时，只有一个应用程序线程。NDB Cluster：请参阅文档。
- `replica_pending_jobs_size_max`: 保存尚未应用的事件的副本工作队列的最大大小。
- `replica_preserve_commit_order`: 确保所有副本工作人员的提交按照与源相同的顺序发生，以保持使用并行应用程序线程时的一致性。
- `Replica_rows_last_search_algorithm_used`: 此副本最近用于基于行的复制定位行的搜索算法（索引、表或哈希扫描）。
- `replica_skip_errors`: 告诉复制线程在查询从提供的列表返回错误时继续复制。
- `replica_transaction_retries`: 复制 SQL 线程在因死锁或超时等待锁定而失败的情况下重试事务的次数，在放弃并停止之前。
- `replica_type_conversions`: 控制副本上的类型转换模式。值是此列表中的零个或多个元素：`ALL_LOSSY`、`ALL_NON_LOSSY`。设置为空字符串以禁止源和副本之间的类型转换。
- `replicate-do-db`: 告诉复制 SQL 线程将复制限制在指定的数据库上。
- `replicate-do-table`: 告诉复制 SQL 线程将复制限制在指定的表上。
- `replicate-ignore-db`: 告诉复制 SQL 线程不复制指定的数据库。
- `replicate-ignore-table`: 告诉复制 SQL 线程不复制指定的表。
- `replicate-rewrite-db`: 使用与原始不同的名称更新数据库。
- `replicate-same-server-id`: 在复制中，如果启用，则不跳过具有我们服务器 ID 的事件。
- `replicate-wild-do-table`: 告诉复制 SQL 线程将复制限制在匹配指定通配符模式的表上。
- `replicate-wild-ignore-table`: 告诉复制 SQL 线程不复制匹配给定通配符模式的表。
- `replication_optimize_for_static_plugin_config`: 半同步复制的共享锁。
- `replication_sender_observe_commit_only`: 半同步复制的限制回调。
- `report_host`: 在副本注册期间报告给源的副本的主机名或 IP。
- `report_password`: 副本服务器应报告给源的任意密码；与复制用户帐户的密码不同。
- `report_port`: 在副本注册期间报告给源的连接副本的端口。
- `report_user`: 副本服务器应报告给源的任意用户名；与用于复制用户帐户的名称不同。
- `rpl_read_size`: 从二进制日志文件和中继日志文件读取的数据量的最小字节数。
- `Rpl_semi_sync_master_clients`: 半同步副本的数量。
- `rpl_semi_sync_master_enabled`: 源上是否启用了半同步复制。
- `Rpl_semi_sync_master_net_avg_wait_time`: 源等待来自副本回复的平均时间。
- `Rpl_semi_sync_master_net_wait_time`: 源等待来自副本回复的总时间。
- `Rpl_semi_sync_master_net_waits`: 源等待来自副本回复的总次数。
- `Rpl_semi_sync_master_no_times`: 源关闭半同步复制的次数。
- `Rpl_semi_sync_master_no_tx`: 未成功确认的提交次数。
- `Rpl_semi_sync_master_status`: 源上半同步复制是否运行。
- `Rpl_semi_sync_master_timefunc_failures`: 源调用时间函数失败的次数。
- `rpl_semi_sync_master_timeout`: 等待副本确认的毫秒数。
- `rpl_semi_sync_master_trace_level`: 源上半同步复制调试跟踪级别。
- `Rpl_semi_sync_master_tx_avg_wait_time`: 源等待每个事务的平均时间。
- `Rpl_semi_sync_master_tx_wait_time`: 源等待事务的总时间。
- `Rpl_semi_sync_master_tx_waits`: 源等待事务的总次数。
- `rpl_semi_sync_master_wait_for_slave_count`: 源每个事务必须收到的副本确认数。
- `rpl_semi_sync_master_wait_no_slave`: 即使没有副本，源也等待超时。
- `rpl_semi_sync_master_wait_point`: 副本事务收据确认的等待点。
- `Rpl_semi_sync_master_wait_pos_backtraverse`: 源等待二进制坐标低于以前等待的事件的总次数。
- `Rpl_semi_sync_master_wait_sessions`: 当前等待副本回复的会话数。

- `Rpl_semi_sync_master_yes_tx`: 成功确认的提交次数。
- `rpl_semi_sync_replica_enabled`: 副本上是否启用了半同步复制。
- `Rpl_semi_sync_replica_status`: 副本上半同步复制是否运行。
- `rpl_semi_sync_replica_trace_level`: 副本上半同步复制调试跟踪级别。
- `rpl_semi_sync_slave_enabled`: 副本上是否启用了半同步复制。
- `Rpl_semi_sync_slave_status`: 副本上半同步复制是否运行。
- `rpl_semi_sync_slave_trace_level`: 副本上半同步复制调试跟踪级别。
- `Rpl_semi_sync_source_clients`: 半同步副本的数量。
- `rpl_semi_sync_source_enabled`: 源上是否启用了半同步复制。
- `Rpl_semi_sync_source_net_avg_wait_time`: 源等待来自副本回复的平均时间。
- `Rpl_semi_sync_source_net_wait_time`: 源等待来自副本回复的总时间。
- `Rpl_semi_sync_source_net_waits`: 源等待来自副本回复的总次数。
- `Rpl_semi_sync_source_no_times`: 源关闭半同步复制的次数。
- `Rpl_semi_sync_source_no_tx`: 未成功确认的提交次数。
- `Rpl_semi_sync_source_status`: 源上半同步复制是否运行。
- `Rpl_semi_sync_source_timefunc_failures`: 源调用时间函数失败的次数。
- `rpl_semi_sync_source_timeout`: 等待副本确认的毫秒数。
- `rpl_semi_sync_source_trace_level`: 源上半同步复制调试跟踪级别。
- `Rpl_semi_sync_source_tx_avg_wait_time`: 源等待每个事务的平均时间。
- `Rpl_semi_sync_source_tx_wait_time`: 源等待事务的总时间。
- `Rpl_semi_sync_source_tx_waits`: 源等待事务的总次数。
- `rpl_semi_sync_source_wait_for_replica_count`: 源每个事务必须收到的副本确认数。
- `rpl_semi_sync_source_wait_no_replica`: 即使没有副本，源也等待超时。
- `rpl_semi_sync_source_wait_point`: 副本事务收据确认的等待点。
- `Rpl_semi_sync_source_wait_pos_backtraverse`: 源等待二进制坐标低于以前等待的事件的总次数。
- `Rpl_semi_sync_source_wait_sessions`: 当前等待副本回复的会话数。
- `Rpl_semi_sync_source_yes_tx`: 成功确认的提交次数。
- `rpl_stop_replica_timeout`: `STOP REPLICA` 等待超时前的秒数。
- `rpl_stop_slave_timeout`: `STOP REPLICA` 或 `STOP SLAVE` 等待超时前的秒数。
- `server_uuid`: 服务器的全局唯一 ID，服务器启动时自动（重新）生成。
- `show-replica-auth-info`: 在此源上的 `SHOW REPLICAS` 中显示用户名和密码。
- `show-slave-auth-info`: 在此源上的 `SHOW REPLICAS` 和 `SHOW SLAVE HOSTS` 中显示用户名和密码。
- `skip-replica-start`: 如果设置，副本服务器启动时不自动启动复制。
- `skip-slave-start`: 如果设置，副本服务器启动时不自动启动复制。
- `slave-skip-errors`: 告诉复制线程在查询从提供的列表返回错误时继续复制。
- `slave_checkpoint_group`: 多线程副本处理的最大事务数，之后调用检查点操作以更新进度状态。NDB Cluster 不支持。
- `slave_checkpoint_period`: 更新多线程副本的进度状态并在这么多毫秒后将中继日志信息刷新到磁盘。NDB Cluster 不支持。
- `slave_compressed_protocol`: 使用源/副本协议的压缩。
- `slave_exec_mode`: 允许在 IDEMPOTENT 模式（抑制键和某些其他错误）和 STRICT 模式之间切换复制线程；STRICT 模式是默认设置，除了 NDB Cluster 总是使用 IDEMPOTENT。
- `slave_load_tmpdir`: 副本在复制 LOAD DATA 语句时应将其临时文件放置的位置。
- `slave_max_allowed_packet`: 可以从复制源服务器发送到副本的数据包的最大大小，以字节为单位；覆盖 `max_allowed_packet`。
- `slave_net_timeout`: 等待来自源/副本连接的更多数据之前的秒数，然后中止读取。
- `Slave_open_temp_tables`: 复制 SQL 线程当前打开的临时表的数量。
- `slave_parallel_type`: 告诉副本使用时间戳信息（`LOGICAL_CLOCK`）或数据库分区（`DATABASE`）来并行化事务。
- `slave_parallel_workers`: 以并行方式执行复制事务的应用程序线程的数量；0 或 1 禁用副本多线程。NDB Cluster：请参阅文档。
- `slave_pending_jobs_size_max`: 保存尚未应用的事件的副本工作队列的最大大小。
- `slave_preserve_commit_order`: 确保所有副本工作人员的提交按照与源相同的顺序发生，以保持使用并行应用程序线程时的一致性。
- `Slave_rows_last_search_algorithm_used`: 此副本最近用于基于行的复制定位行的搜索算法（索引、表或哈希扫描）。
- `slave_rows_search_algorithms`: 决定用于副本更新批处理的搜索算法。此列表中的任意 2 或 3：`INDEX_SEARCH`、`TABLE_SCAN`、`HASH_SCAN`。

- `slave_transaction_retries`: 复制 SQL 线程在因死锁或超时等待锁定而失败的情况下重试事务的次数，在放弃并停止之前。
- `slave_type_conversions`: 控制副本上的类型转换模式。值是此列表中的零个或多个元素：`ALL_LOSSY`、`ALL_NON_LOSSY`。设置为空字符串以禁止源和副本之间的类型转换。
- `sql_log_bin`: 控制当前会话的二进制日志记录。
- `sql_replica_skip_counter`: 副本应跳过的来自源的事件数。与 GTID 复制不兼容。
- `sql_slave_skip_counter`: 副本应跳过的来自源的事件数。与 GTID 复制不兼容。
- `sync_master_info`: 每 #th 事件后同步源信息。
- `sync_relay_log`: 每 #th 事件后将中继日志同步到磁盘。
- `sync_relay_log_info`: 每 #th 事件后将 relay.info 文件同步到磁盘。
- `sync_source_info`: 每 #th 事件后同步源信息。
- `terminology_use_previous`: 使用指定版本之前的术语，其中更改不兼容。
- `transaction_write_set_extraction`: 定义在事务期间提取写入时使用的哈希算法。

有关与 mysqld 一起使用的所有命令行选项、系统变量和状态变量的列表，请参见第 7.1.4 节“服务器选项、系统变量和状态变量参考”。

##### 二进制日志选项和变量

以下列表中的命令行选项和系统变量与二进制日志相关。第 19.1.6.4 节“二进制日志选项和变量”提供了与二进制日志相关的选项和变量的更详细信息。有关二进制日志的更多一般信息，请参见第 7.4.4 节“二进制日志”。

- `binlog-checksum`: 启用或禁用二进制日志校验和。
- `binlog-do-db`: 将二进制日志记录限制在特定数据库。
- `binlog-ignore-db`: 告诉源不将给定数据库的更新写入二进制日志。
- `binlog-row-event-max-size`: 二进制日志最大事件大小。
- `Binlog_cache_disk_use`: 使用临时文件而不是二进制日志缓存的事务数。
- `binlog_cache_size`: 在事务期间保留二进制日志中 SQL 语句的缓存大小。
- `Binlog_cache_use`: 使用临时二进制日志缓存的事务数。
- `binlog_checksum`: 启用或禁用二进制日志校验和。
- `binlog_direct_non_transactional_updates`: 导致使用语句格式对非事务性引擎进行更新直接写入二进制日志。使用前请参阅文档。
- `binlog_encryption`: 在此服务器上启用二进制日志文件和中继日志文件的加密。
- `binlog_error_action`: 控制服务器无法写入二进制日志时发生的情况。
- `binlog_expire_logs_auto_purge`: 控制二进制日志文件的自动清除；启用时，通过将 `binlog_expire_logs_seconds` 和 `expire_logs_days` 都设置为 0 来覆盖。
- `binlog_expire_logs_seconds`: 这么多秒后清除二进制日志。
- `binlog_format`: 指定二进制日志的格式。
- `binlog_group_commit_sync_delay`: 设置在将事务同步到磁盘前等待的微秒数。
- `binlog_group_commit_sync_no_delay_count`: 设置在放弃由 `binlog_group_commit_sync_delay` 指定的当前延迟前等待的最大事务数。
- `binlog_gtid_simple_recovery`: 控制在 GTID 恢复期间如何迭代二进制日志。
- `binlog_max_flush_queue_time`: 在将事务刷新到二进制日志之前读取事务的时间长度。
- `binlog_order_commits`: 是否按写入二进制日志的相同顺序提交。
- `binlog_rotate_encryption_master_key_at_startup`: 在服务器启动时轮换二进制日志主密钥。
- `binlog_row_image`: 在记录行更改时使用完整或最小图像。
- `binlog_row_metadata`: 在使用基于行的日志记录时，是否记录所有或仅最小的与表相关的元数据到二进制日志。
- `binlog_row_value_options`: 启用基于行的复制的部分 JSON 更新的二进制日志记录。
- `binlog_rows_query_log_events`: 启用时，在使用基于行的日志记录时启用行查询日志事件的记录。默认禁用。产生日志供 pre-5.6 副本/读者使用时不要启用。
- `Binlog_stmt_cache_disk_use`: 使用临时文件而不是二进制日志语句缓存的非事务性语句数。
- `binlog_stmt_cache_size`: 在事务期间保留二进制日志中非事务性语句的缓存大小。
- `Binlog_stmt_cache_use`: 使用临时二进制日志语句缓存的语句数。
- `binlog_transaction_compression`: 启用二进制日志文件中事务有效载荷的压缩。
- `binlog_transaction_compression_level_zstd`: 二进制日志文件中事务有效载荷的压缩级别。
- `binlog_transaction_dependency_history_size`: 保留的行哈希数，用于查找最后更新某行的事务。
- `binlog_transaction_dependency_tracking`: 依赖信息的来源（提交时间戳或事务写集），用于评估哪些事务可以由副本的多线程应用程序并行执行。

- `Com_show_binlog_events`: `SHOW BINLOG EVENTS` 语句的计数。
- `Com_show_binlogs`: `SHOW BINLOGS` 语句的计数。
- `log-bin`: 二进制日志文件的基本名称。
- `log-bin-index`: 二进制日志索引文件的名称。
- `log_bin`: 是否启用了二进制日志。
- `log_bin_basename`: 二进制日志文件的路径和基本名称。
- `log_bin_use_v1_row_events`: 服务器是否使用版本 1 的二进制日志行事件。
- `log_replica_updates`: 是否应该将副本的复制 SQL 线程执行的更新记录到其自己的二进制日志中。
- `log_slave_updates`: 是否应该将副本的复制 SQL 线程执行的更新记录到其自己的二进制日志中。
- `master_verify_checksum`: 导致源在从二进制日志读取时检查校验和。
- `max-binlog-dump-events`: mysql-test 使用的选项，用于复制的调试和测试。
- `max_binlog_cache_size`: 可用于限制用于缓存多语句事务的总字节大小。
- `max_binlog_size`: 当大小超过此值时，二进制日志将自动轮换。
- `max_binlog_stmt_cache_size`: 可用于限制在事务期间缓存所有非事务性语句的总大小。
- `replica_sql_verify_checksum`: 导致副本在从中继日志读取时检查校验和。
- `slave-sql-verify-checksum`: 导致副本在从中继日志读取时检查校验和。
- `slave_sql_verify_checksum`: 导致副本在从中继日志读取时检查校验和。
- `source_verify_checksum`: 导致源在从二进制日志读取时检查校验和。
- `sporadic-binlog-dump-fail`: mysql-test 使用的选项，用于复制的调试和测试。
- `sync_binlog`: 每 #th 事件后将二进制日志同步刷新到磁盘。

有关与 mysqld 一起使用的所有命令行选项、系统变量和状态变量的列表，请参见第 7.1.4 节“服务器选项、系统变量和状态变量参考”。