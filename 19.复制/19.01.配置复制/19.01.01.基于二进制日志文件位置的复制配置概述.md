### 19.1.1 基于二进制日志文件位置的复制配置概述

本节描述了基于二进制日志文件位置方法的 MySQL 服务器之间的复制，其中作为源（数据库更改发生处）的 MySQL 实例将更新和更改以“事件”形式写入二进制日志。二进制日志中的信息根据被记录的数据库更改以不同的日志格式存储。副本被配置为从源读取二进制日志，并在副本的本地数据库上执行二进制日志中的事件。

每个副本接收二进制日志全部内容的副本。副本有责任决定哪些二进制日志中的语句应该被执行。除非另有指定，源的二进制日志中的所有事件都将在副本上执行。如果需要，您可以配置副本只处理适用于特定数据库或表的事件。

> **重要提示**
>
> 您不能配置源仅记录特定事件。

每个副本都会记录二进制日志坐标：它已经从源读取和处理的文件名和文件内的位置。这意味着多个副本可以连接到源并执行相同二进制日志的不同部分。因为副本控制这一过程，个别副本可以连接和断开与服务器的连接而不影响源的操作。此外，因为每个副本记录了二进制日志内当前的位置，所以副本可以断开连接，重新连接，然后恢复处理。

源和每个副本必须使用唯一的 ID 配置（使用 `server_id` 系统变量）。此外，每个副本必须配置有关源的主机名、日志文件名和该文件内位置的信息。这些细节可以在 MySQL 会话内通过在副本上执行 `CHANGE REPLICATION SOURCE TO` 语句（从 MySQL 8.0.23 开始）或 `CHANGE MASTER TO` 语句（在 MySQL 8.0.23 之前）来控制。这些详细信息存储在副本的连接元数据仓库中（见第19.2.4节，“中继日志和复制元数据仓库”）。