#### 19.5.1.33 复制与时区

默认情况下，源服务器和副本服务器假定它们处于相同的时区。如果您在不同时区的服务器之间进行复制，则必须在源和副本上设置时区。否则，依赖源上本地时间的语句将无法正确复制，例如使用 `NOW()` 或 `FROM_UNIXTIME()` 函数的语句。

验证源和副本上系统时区（`system_time_zone`）、服务器当前时区（`time_zone` 的全局值）和每个会话时区（`time_zone` 的会话值）的设置组合是否产生正确的结果。特别是，如果 `time_zone` 系统变量设置为 `SYSTEM` 值，表示服务器时区与系统时区相同，这可能导致源和副本应用不同的时区。例如，源可能在二进制日志中写下以下语句：

```sql
SET @@session.time_zone='SYSTEM';
```

如果这个源和它的副本对它们的系统时区有不同的设置，即使副本的全局 `time_zone` 值已设置为与源相匹配，这个语句也可能在副本上产生意外的结果。有关 MySQL 服务器时区设置的说明以及如何更改它们，请参见第 7.1.15 节，“MySQL 服务器时区支持”。

另请参见第 19.5.1.14 节，“复制与系统函数”。