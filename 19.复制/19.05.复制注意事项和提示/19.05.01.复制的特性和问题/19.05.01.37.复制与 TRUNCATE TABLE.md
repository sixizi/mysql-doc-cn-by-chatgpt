#### 19.5.1.37 复制与 TRUNCATE TABLE

通常情况下，`TRUNCATE TABLE` 被视为 DML（数据操作语言）语句，因此当二进制日志模式为 ROW 或 MIXED 时，预期它会使用基于行的格式进行日志记录和复制。然而，当使用像 InnoDB 这样的事务性存储引擎，并且事务隔离级别为 READ COMMITTED 或 READ UNCOMMITTED 时，这在 STATEMENT 或 MIXED 模式下进行日志记录或复制会引起问题，这种级别禁止基于语句的日志记录。

出于日志记录和复制的目的，`TRUNCATE TABLE` 被视为 DDL（数据定义语言）而非 DML，以便它可以作为语句进行日志记录和复制。然而，此语句对 InnoDB 和其他事务性表在副本上的影响仍然遵循第 15.1.37 节，“TRUNCATE TABLE 语句”中描述的规则。 （错误 #36763）

这种处理方式确保 `TRUNCATE TABLE` 在多种日志格式下可以一致地复制，尤其是在涉及事务性存储引擎的表时，它可以避免由于隔离级别设置不当导致的复制错误。在实际应用中，当需要确保副本与源保持一致时，特别是在涉及大量数据删除操作的情况下，`TRUNCATE TABLE` 的这种处理方式显得尤为重要。