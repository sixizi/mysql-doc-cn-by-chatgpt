### 19.5.1.2 复制与 `BLACKHOLE` 表

`BLACKHOLE` 存储引擎接受数据但不存储数据，实际上是丢弃数据的。在执行二进制日志记录时，无论使用何种日志格式，对这些表的所有插入操作都会被记录。更新和删除操作的处理则取决于是使用基于语句的日志记录还是基于行的日志记录。在基于语句的日志格式下，影响 `BLACKHOLE` 表的所有语句都会被记录，但它们的效果会被忽略。当使用基于行的日志时，对这些表的更新和删除简单地被跳过——它们不会被写入二进制日志。每当这种情况发生时，都会记录一个警告。

基于此，我们推荐在复制到使用 `BLACKHOLE` 存储引擎的表时，将服务器变量 `binlog_format` 设置为 `STATEMENT`，而不是 `ROW` 或 `MIXED`。这样做是因为，尽管 `BLACKHOLE` 表不存储数据，使用基于语句的格式可以确保所有插入语句都被记录在日志中，而不考虑这些操作的实际存储效果，这有助于确保日志的完整性和一致性。使用基于行的日志格式则可能导致更新和删除操作完全不被记录，从而可能影响复制的准确性和可追溯性。