### 19.2.4 中继日志和复制元数据仓库

- [19.2.4.1 中继日志](./19.02.04.01.中继日志.md)
- [19.2.4.2 复制元数据仓库](./19.02.04.02.复制元数据仓库.md)

副本服务器创建了几个信息仓库，用于复制过程：

- **副本的中继日志**，由复制I/O（接收）线程写入，包含从复制源服务器的二进制日志读取的事务。中继日志中的事务由复制SQL（应用器）线程在副本上应用。关于中继日志的信息，请参见第19.2.4.1节，“中继日志”。

- **副本的连接元数据仓库**包含复制接收线程连接到复制源服务器并从源的二进制日志检索事务所需的信息。连接元数据仓库写入到`mysql.slave_master_info`表中。

- **副本的应用器元数据仓库**包含复制应用器线程从副本的中继日志读取和应用事务所需的信息。应用器元数据仓库写入到`mysql.slave_relay_log_info`表中。

副本的连接元数据仓库和应用器元数据仓库统称为复制元数据仓库。关于这些的信息，请参见第19.2.4.2节，“复制元数据仓库”。

使复制能够抵御意外停机。`mysql.slave_master_info`和`mysql.slave_relay_log_info`表使用事务型存储引擎InnoDB创建。更新到副本的应用器元数据仓库表与事务一起提交，这意味着即使在意外服务器停机的情况下，记录在该仓库中的副本的进度信息也始终与已应用到数据库的内容保持一致。关于副本最能抵抗意外停机的设置组合的信息，请参见第19.4.2节，“处理副本的意外停机”。