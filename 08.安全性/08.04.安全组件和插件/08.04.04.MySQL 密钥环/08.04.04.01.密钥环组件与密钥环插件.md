### 8.4.4.1 密钥环组件与密钥环插件

MySQL 密钥环最初通过服务器插件实现密钥库功能，但从 MySQL 8.0.24 开始，逐步转向使用组件基础设施。本节简要比较了密钥环组件和插件，以概述它们的区别。它可能有助于您从插件过渡到组件，或者如果您刚开始使用密钥环，帮助您选择使用组件还是插件。

密钥环插件加载使用 `--early-plugin-load` 选项。密钥环组件加载使用清单文件。

密钥环插件配置基于插件特定的系统变量。对于密钥环组件，不使用系统变量。相反，每个组件都有自己的配置文件。

在密钥类型和长度方面，密钥环组件比密钥环插件有更少的限制。请参阅[8.4.4.13节, “支持的密钥环密钥类型和长度”](#8.4.4.13)。

> **注意**
> `component_keyring_oci`（如同 `keyring_oci` 插件）只能生成类型为 AES 且大小为 16、24 或 32 字节的密钥。

密钥环组件支持持久化系统变量值的安全存储，而密钥环插件不支持此功能。

必须在 MySQL 服务器实例上启用密钥环组件，以支持持久化系统变量值的安全存储。可以通过这种方式保护的敏感数据包括系统变量值中出现的私钥和密码等项目。在存储持久化系统变量的操作系统文件中，敏感系统变量的名称和值以加密格式存储，并生成用于解密它们的文件密钥。生成的文件密钥又使用存储在密钥环中的主密钥进行加密。请参阅[持久化敏感系统变量](#persisting-sensitive-system-variables)。