### 8.4.1.13 可插拔身份验证系统变量

这些变量只有在安装了适当的服务器端插件时才可用：

- `authentication_ldap_sasl` 对于形式为 `authentication_ldap_sasl_xxx` 的系统变量
- `authentication_ldap_simple` 对于形式为 `authentication_ldap_simple_xxx` 的系统变量

#### 表 8.29 身份验证插件系统变量摘要

| 名称                                           | 命令行 | 配置文件 | 系统变量 | 状态变量 | 变量范围 | 动态性 |
| ---------------------------------------------- | ------ | -------- | -------- | -------- | -------- | ------ |
| authentication_fido_rp_id                      | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_kerberos_service_key_tab        | 是     | 是       | 是       |          | 全局     | 否     |
| authentication_kerberos_service_principal      | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_sasl_auth_method_name      | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_sasl_bind_base_dn          | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_sasl_bind_root_dn          | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_sasl_bind_root_pwd         | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_sasl_ca_path               | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_sasl_group_search_attr     | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_sasl_group_search_filter   | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_sasl_init_pool_size        | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_sasl_log_status            | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_sasl_max_pool_size         | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_sasl_referral              | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_sasl_server_host           | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_sasl_server_port           | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_sasl_tls                   | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_sasl_user_search_attr      | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_simple_auth_method_name    | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_simple_bind_base_dn        | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_simple_bind_root_dn        | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_simple_bind_root_pwd       | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_simple_ca_path             | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_simple_group_search_attr   | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_simple_group_search_filter | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_simple_init_pool_size      | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_simple_log_status          | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_simple_max_pool_size       | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_simple_referral            | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_simple_server_host         | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_simple_server_port         | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_simple_tls                 | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_ldap_simple_user_search_attr    | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_policy                          | 是     | 是       | 是       |          | 全局     | 是     |
| authentication_windows_log_level               | 是     | 是       | 是       |          | 全局     | 否     |
| authentication_windows_use_principal_name      | 是     | 是       | 是       |          | 全局     | 否     |

### `authentication_fido_rp_id`

- **命令行格式**: `--authentication-fido-rp-id=value`
- **引入版本**: 8.0.27
- **弃用版本**: 8.0.35
- **系统变量**: `authentication_fido_rp_id`
- **范围**: 全局
- **动态性**: 是
- **SET_VAR Hint Applies**: 否
- **类型**: 字符串
- **默认值**: MySQL

此变量指定用于 FIDO 设备注册和 FIDO 身份验证的依赖方 ID。如果尝试 FIDO 身份验证且该值与 FIDO 设备期望的值不一致，则设备假定它未与正确的服务器通信，并且会发生错误。最大值长度为 255 个字符。

> **注意**
>
> 从 MySQL 8.0.35 开始，此插件变量已弃用，并将在未来的 MySQL 版本中移除。

### `authentication_kerberos_service_key_tab`

- **命令行格式**: `--authentication-kerberos-service-key-tab=file_name`
- **引入版本**: 8.0.26
- **系统变量**: `authentication_kerberos_service_key_tab`
- **范围**: 全局
- **动态性**: 否
- **SET_VAR Hint Applies**: 否
- **类型**: 文件名
- **默认值**: `datadir/mysql.keytab`

包含 Kerberos 服务密钥的服务器端密钥表（keytab）文件的名称，用于验证从客户端接收的 MySQL 服务票证。文件名应作为绝对路径名给出。如果未设置此变量，则默认为数据目录中的 `mysql.keytab`。

该文件必须存在并包含服务主体名称（SPN）的有效密钥，否则客户端的身份验证将失败。（服务主体名称和相同的密钥也必须在 Kerberos 服务器中创建。）该文件可能包含多个服务主体名称及其各自的密钥组合。

该文件必须由 Kerberos 服务器管理员生成，并复制到 MySQL 服务器可访问的位置。可以使用以下命令验证文件是否正确且已正确复制：

```bash
klist -k file_name
```

有关密钥表文件的信息，请参见 https://web.mit.edu/kerberos/krb5-latest/doc/basic/keytab_def.html。

### `authentication_kerberos_service_principal`

- **命令行格式**: `--authentication-kerberos-service-principal=name`
- **引入版本**: 8.0.26
- **系统变量**: `authentication_kerberos_service_principal`
- **范围**: 全局
- **动态性**: 是
- **SET_VAR Hint Applies**: 否
- **类型**: 字符串
- **默认值**: `mysql/host_name@realm_name`

MySQL 服务器发送给客户端的 Kerberos 服务主体名称（SPN）。

该值由服务名称（mysql）、主机名和域名组成。默认值为 `mysql/host_name@realm_name`。服务主体名称中的域名使得能够检索确切的服务密钥。

要使用非默认值，请使用相同的格式设置该值。例如，要使用 `krbauth.example.com` 作为主机名并使用 `MYSQL.LOCAL` 作为域名，请将 `authentication_kerberos_service_principal` 设置为 `mysql/krbauth.example.com@MYSQL.LOCAL`。

服务主体名称和服务密钥必须已经存在于由 KDC 服务器管理的数据库中。

可以存在仅在域名上不同的服务主体名称。

### `authentication_ldap_sasl_auth_method_name`

- **命令行格式**: `--authentication-ldap-sasl-auth-method-name=value`
- **系统变量**: `authentication_ldap_sasl_auth_method_name`
- **范围**: 全局
- **动态性**: 是
- **SET_VAR Hint Applies**: 否
- **类型**: 字符串
- **默认值**: `SCRAM-SHA-1`
- **