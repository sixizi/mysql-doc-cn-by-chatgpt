### 18.7.1 组通信线程的微调

组通信线程（GCT）在加载组复制插件时运行于一个循环中。GCT 接收来自组和插件的消息，处理仲裁和故障检测相关任务，发送一些保活消息，同时处理来自服务器/组的传入和传出事务。GCT 在队列中等待传入消息。当没有消息时，GCT 就处于等待状态。在某些情况下，通过配置这个等待时间稍长一点（进行主动等待）再实际进入休眠状态，可能会有益处。这是因为另一种选择是操作系统将 GCT 从处理器中切换出去并进行上下文切换。

为了强制 GCT 进行主动等待，请使用 `group_replication_poll_spin_loops` 选项，该选项使 GCT 循环，在实际轮询队列获取下一条消息之前，进行配置次数的循环而不执行任何相关操作。

例如：

```sql
mysql> SET GLOBAL group_replication_poll_spin_loops= 10000;

```

此设置使得 GCT 在检查新消息之前在循环中进行指定次数的空运行，这可能有助于减少操作系统上下文切换的频率，从而提高效率。这种主动等待特别适用于高负载的情况，其中消息传递频繁，因此减少上下文切换可以显著提高性能。然而，在低负载情况下，过长的主动等待可能会导致不必要的 CPU 占用，因此应根据实际使用场景调整此设置。