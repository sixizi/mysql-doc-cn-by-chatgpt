## 18.7 组复制性能和故障排除

- [18.7.1 组通信线程的微调](./18.07.01.组通信线程的微调.md)
- [18.7.2 流控制](./18.07.02.流控制/18.07.02.00.流控制.md)
- [18.7.3 单一共识领导者](./18.07.03.单一共识领导者.md)
- [18.7.4 消息压缩](./18.07.04.消息压缩.md)
- [18.7.5 消息分片](./18.07.05.消息分片.md)
- [18.7.6 XCom 缓存管理](./18.07.06.XCom 缓存管理/18.07.06.00.XCom 缓存管理.md)
- [18.7.7 响应故障检测和网络分区](./18.07.07.响应故障检测和网络分区/18.07.07.00.响应故障检测和网络分区.md)
- [18.7.8 处理网络分区和仲裁丢失](./18.07.08.处理网络分区和仲裁丢失.md)
- [18.7.9 使用性能模式内存工具监控组复制内存使用情况](./18.07.09.使用性能模式内存工具监控组复制内存使用情况/18.07.09.00.使用性能模式内存工具监控组复制内存使用情况.md)

组复制旨在创建具有内置故障检测和自动恢复的容错系统。如果成员服务器实例自愿离开或停止与组的通信，剩余成员之间自行协商重新配置组，并在需要时选择新的主节点。被驱逐的成员会自动尝试重新加入组，并通过分布式恢复更新至最新状态。如果组遇到困难，无法联系到大多数成员以就决策达成一致，它将识别自己失去仲裁，并停止处理事务。组复制还内置了机制和设置，以帮助组适应和管理工作负载和消息大小的变化，并保持在底层系统和网络资源的限制范围内。

组复制的系统变量默认设置旨在最大化组的性能和自主性。本节信息旨在帮助您配置复制组，以优化自动处理在特定系统上经常遇到的问题，如短暂的网络中断或超出服务器实例资源的工作负载和事务。

如果您发现组成员被驱逐并重新加入组的频率比您希望的更频繁，可能是组复制的默认故障检测设置对您的系统过于敏感。在较慢的网络或机器、意外短暂中断频繁的网络或计划中的网络中断期间可能会出现这种情况。有关通过调整设置处理该情况的建议，请参阅第 18.7.7 节，“响应故障检测和网络分区”。

只有在发生组无法自动处理的情况时，您才需要手动干预组复制设置。一些可能需要管理员干预的关键问题包括成员状态为 ERROR 且无法重新加入组，或网络分区导致组失去仲裁：

- 如果正常运行且配置正确的成员无法使用分布式恢复加入或重新加入组，并保持在 ERROR 状态，第 18.5.4.4 节，“分布式恢复的容错性”，解释了可能的问题。一个可能的原因是加入成员有额外的事务，而组中现有成员没有这些事务。有关处理该情况的建议，请参阅第 18.4.1 节，“GTID 和组复制”。

- 如果组失去了仲裁，这可能是由于网络分区将组划分为两部分，或可能是由于大多数服务器的故障。有关处理该情况的建议，请参阅第 18.7.8 节，“处理网络分区和失去仲裁”。