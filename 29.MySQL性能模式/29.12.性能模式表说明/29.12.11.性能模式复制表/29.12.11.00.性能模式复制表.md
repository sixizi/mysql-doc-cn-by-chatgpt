### 29.12.11 性能模式复制表

- [29.12.11.1 binary_log_transaction_compression_stats 表](./29.12.11.01.binary_log_transaction_compression_stats 表.md)
- [29.12.11.2 replication_applier_configuration 表](./29.12.11.02.replication_applier_configuration 表.md)
- [29.12.11.3 replication_applier_status 表](./29.12.11.03.replication_applier_status 表.md)
- [29.12.11.4 replication_applier_status_by_coordinator 表](./29.12.11.04.replication_applier_status_by_coordinator 表.md)
- [29.12.11.5 replication_applier_status_by_worker 表](./29.12.11.05.replication_applier_status_by_worker 表.md)
- [29.12.11.6 replication_applier_filters 表](./29.12.11.06.replication_applier_filters 表.md)
- [29.12.11.7 replication_applier_global_filters 表](./29.12.11.07.replication_applier_global_filters 表.md)
- [29.12.11.8 replication_asynchronous_connection_failover 表](./29.12.11.08.replication_asynchronous_connection_failover 表.md)
- [29.12.11.9 replication_asynchronous_connection_failover_managed 表](./29.12.11.09.replication_asynchronous_connection_failover_managed 表.md)
- [29.12.11.10 replication_connection_configuration 表](./29.12.11.10.replication_connection_configuration 表.md)
- [29.12.11.11 replication_connection_status 表](./29.12.11.11.replication_connection_status 表.md)
- [29.12.11.12 replication_group_communication_information 表](./29.12.11.12.replication_group_communication_information 表.md)
- [29.12.11.13 replication_group_configuration_version 表](./29.12.11.13.replication_group_configuration_version 表.md)
- [29.12.11.14 replication_group_member_actions 表](./29.12.11.14.replication_group_member_actions 表.md)
- [29.12.11.15 replication_group_member_stats 表](./29.12.11.15.replication_group_member_stats 表.md)
- [29.12.11.16 replication_group_members 表](./29.12.11.16.replication_group_members 表.md)

性能模式（Performance Schema）提供了一些表格，用于展示复制相关信息。这与 `SHOW REPLICA STATUS` 语句提供的信息类似，但表格形式的表示更易于访问，并具有使用上的优势：

- `SHOW REPLICA STATUS` 的输出适合于视觉检查，但在程序化使用方面效果不佳。相比之下，使用性能模式表格，可以通过通用的 `SELECT` 查询检索从库状态信息，包括复杂的 `WHERE` 条件、连接查询等。
- 查询结果可以存储在表中以便进一步分析，或者分配给变量以用于存储过程。

- 复制表提供了更好的诊断信息。对于多线程从库操作，`SHOW REPLICA STATUS` 使用 `Last_SQL_Errno` 和 `Last_SQL_Error` 字段报告所有协调线程和工作线程的错误，因此只能显示最近的错误，而其他信息可能丢失。复制表则按线程存储错误信息，确保不会丢失任何信息。

- 复制表可以按工作线程显示最近的事务信息，这是 `SHOW REPLICA STATUS` 无法提供的。

- 熟悉性能模式接口的开发者可以通过向表中添加行，扩展复制表以提供额外信息。

#### 复制表描述

性能模式（Performance Schema）提供了以下与复制相关的表：

- 关于从库与主库连接的信息

  - **`replication_connection_configuration`**：连接主库的配置参数。

  - **`replication_connection_status`**：当前与主库连接的状态。

  - **`replication_asynchronous_connection_failover`**：异步连接故障转移机制的主库列表。


- 关于事务应用器的一般（非线程特定）信息

  - **`replication_applier_configuration`**：从库上的事务应用器配置参数。

  - **`replication_applier_status`**：从库上的事务应用器当前状态。


- 关于应用从主库接收的事务的特定线程的信息

  - **`replication_applier_status_by_coordinator`**：协调线程的状态（仅在从库为多线程时非空）。

  - **`replication_applier_status_by_worker`**：应用器线程或工作线程的状态（仅在从库为多线程时非空）。


- 关于基于通道的复制过滤器的信息

  - **`replication_applier_filters`**：提供有关特定复制通道上配置的复制过滤器的信息。

  - **`replication_applier_global_filters`**：提供有关全局复制过滤器的信息，这些过滤器适用于所有复制通道。


- 关于组复制成员的信息

  - **`replication_group_members`**：提供组成员的网络和状态信息。

  - **`replication_group_member_stats`**：提供组成员和参与事务的统计信息。


> **更多信息**：请参阅 [第20.4节，监控组复制](#20.4)。
