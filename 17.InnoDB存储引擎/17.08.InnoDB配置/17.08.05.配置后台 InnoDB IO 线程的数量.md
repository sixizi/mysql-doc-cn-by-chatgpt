### 17.8.5 配置后台InnoDB I/O线程的数量

InnoDB使用后台线程来处理各种类型的I/O请求。您可以使用`innodb_read_io_threads`和`innodb_write_io_threads`配置参数来配置服务于数据页读写I/O的后台线程数量。这些参数分别表示用于读请求和写请求的后台线程数量。它们在所有支持的平台上都是有效的。您可以在MySQL选项文件（my.cnf或my.ini）中为这些参数设置值；您不能动态更改值。这些参数的默认值为4，允许的值范围从1到64。

这些配置选项的目的是使InnoDB在高端系统上更具可扩展性。每个后台线程可以处理多达256个待处理的I/O请求。后台I/O的一个主要来源是预读请求。InnoDB尝试平衡传入请求的负载，以使大多数后台线程平等地共享工作。InnoDB还尝试将来自同一扩展的读请求分配给同一个线程，以增加合并请求的机会。如果您有一个高端的I/O子系统，并且在`SHOW ENGINE INNODB STATUS`输出中看到超过64 × `innodb_read_io_threads`的待处理读请求，通过增加`innodb_read_io_threads`的值可能会提高性能。

在Linux系统上，InnoDB默认使用异步I/O子系统来执行数据文件页面的预读和写请求，这改变了InnoDB后台线程服务这些类型的I/O请求的方式。更多信息，请参见17.8.6节，“在Linux上使用异步I/O”。

有关InnoDB I/O性能的更多信息，请参见10.5.8节，“优化InnoDB磁盘I/O”。