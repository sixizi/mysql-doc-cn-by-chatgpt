### 25.4.3.2 NDB Cluster 推荐的初始配置

从 NDB Cluster 中获得最佳性能取决于多个因素，包括以下内容：

- NDB Cluster 软件版本
- 数据节点和 SQL 节点的数量
- 硬件
- 操作系统
- 要存储的数据量
- 集群运行时的负载大小和类型

因此，获得最佳配置可能是一个迭代过程，结果可能会因每个 NDB Cluster 部署的具体情况而有很大差异。当集群运行的平台或使用 NDB Cluster 数据的应用程序发生变化时，配置也可能需要更改。基于这些原因，不可能提供一个适用于所有使用场景的理想配置。然而，在本节中，我们提供了一个推荐的基础配置。

#### 初始 config.ini 文件

以下 `config.ini` 文件是配置运行 NDB Cluster 8.0 的集群的推荐起点：

```ini
# 示例 config.ini 文件 - 初始配置
# 该文件用于配置运行 NDB Cluster 8.0 的集群

[ndbd default]
NoOfReplicas= 2
DataMemory= 80M    # 适用于数据节点的总内存
IndexMemory= 18M   # 适用于索引的总内存

[ndb_mgmd]
HostName= ndb_mgmd.mysql.com  # 管理节点的主机名
DataDir= /var/lib/mysql-cluster  # 管理节点的数据目录

[ndbd]
HostName= ndbd_1.mysql.com  # 第一个数据节点的主机名
DataDir= /usr/local/mysql/data  # 第一个数据节点的数据目录

[ndbd]
HostName= ndbd_2.mysql.com  # 第二个数据节点的主机名
DataDir= /usr/local/mysql/data  # 第二个数据节点的数据目录

[mysqld]
HostName= mysqld_1.mysql.com  # 第一个 SQL 节点的主机名

[mysqld]
HostName= mysqld_2.mysql.com  # 第二个 SQL 节点的主机名
```

#### SQL 节点的必需 `my.cnf` 选项

作为 NDB Cluster SQL 节点的 MySQL 服务器必须始终使用 `--ndbcluster` 和 `--ndb-connectstring` 选项启动，可以在命令行或 `my.cnf` 中指定这些选项。

```ini
# my.cnf
# SQL 节点的必需选项

[mysqld]
ndbcluster
ndb-connectstring=ndb_mgmd.mysql.com  # 管理节点的连接字符串
```

这将确保 SQL 节点正确连接到 NDB Cluster 管理节点并能够进行操作。