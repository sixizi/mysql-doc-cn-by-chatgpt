### 22.5.4 使用X插件与Caching SHA-2身份验证插件

X插件支持使用`caching_sha2_password`身份验证插件创建的MySQL用户账户。有关此插件的更多信息，请参阅第6.4.1.2节，“Caching SHA-2可插入身份验证”。您可以使用X插件对此类账户进行身份验证，使用SHA256_MEMORY身份验证进行非SSL连接，以及使用PLAIN身份验证进行SSL连接。

尽管`caching_sha2_password`身份验证插件持有一个身份验证缓存，但此缓存不与X插件共享，因此X插件使用自己的SHA256_MEMORY身份验证缓存。X插件的身份验证缓存存储用户账户密码的哈希值，不能使用SQL访问。如果修改或删除了用户账户，相关条目将从缓存中删除。X插件的身份验证缓存由`mysqlx_cache_cleaner`插件维护，该插件默认启用，并且没有相关的系统变量或状态变量。

在可以使用不带SSL的X协议连接来对使用`caching_sha2_password`身份验证插件的账户进行身份验证之前，该账户必须至少通过SSL的X协议连接进行过一次身份验证，以向X插件身份验证缓存提供密码。一旦SSL上的初始身份验证成功，就可以使用非SSL的X协议连接。

可以通过使用选项`--mysqlx_cache_cleaner=0`启动MySQL服务器来禁用`mysqlx_cache_cleaner`插件。如果这样做，X插件的身份验证缓存将被禁用，因此在使用SHA256_MEMORY身份验证进行身份验证时，必须始终使用SSL进行X协议连接。