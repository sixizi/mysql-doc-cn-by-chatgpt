### 22.3.3 文档和集合

- [22.3.3.1 创建、列出和删除集合](./22.03.03.01.创建、列出和删除集合.md)
- [22.3.3.2 使用集合](./22.03.03.02.使用集合.md)
- [22.3.3.3 查找文档](./22.03.03.03.查找文档.md)
- [22.3.3.4 修改文档](./22.03.03.04.修改文档.md)
- [22.3.3.5 删除文档](./22.03.03.05.删除文档.md)
- [22.3.3.6 创建和删除索引](./22.03.03.06.创建和删除索引.md)

当您使用MySQL作为文档存储时，集合是您可以创建、列出和删除的模式内的容器。集合包含您可以添加、查找、更新和删除的JSON文档。

本节中的示例使用world_x模式中的countryinfo集合。有关设置world_x模式的说明，请参见第20.3.2节，“下载和导入world_x数据库”。

#### 文档

在MySQL中，文档被表示为JSON对象。在内部，它们以高效的二进制格式存储，使得查找和更新操作快速进行。

JavaScript的简单文档格式：

```json
{field1: "value", field2 : 10, "field 3": null}
```

文档数组由用逗号分隔并包含在[和]字符内的一组文档组成。

JavaScript的简单文档数组：

```json
[{"Name": "Aruba", "Code:": "ABW"}, {"Name": "Angola", "Code:": "AGO"}]
```

MySQL在JSON文档中支持以下JavaScript值类型：

- 数字（整数和浮点数）
- 字符串
- 布尔值（False和True）
- null
- 更多JSON值的数组
- 更多JSON值的嵌套（或嵌入）对象

#### 集合

集合是用于存储共享目的并可能共享一个或多个索引的文档的容器。每个集合都有一个唯一的名称，并存在于单个模式中。

模式一词等同于数据库，意味着一组数据库对象，而不是用于对数据强加结构和约束的关系模式。模式不对集合中的文档执行一致性强制。

在本快速入门指南中：

基本对象包括：

| 对象形式            | 描述                                                         |
| ------------------- | ------------------------------------------------------------ |
| db                  | db是分配给当前活动模式的全局变量。当您想要对模式执行操作时，例如检索集合，您可以使用db变量提供的方法。 |
| db.getCollections() | db.getCollections()返回模式中集合的列表。使用该列表获取对集合对象的引用，迭代它们等。 |

由集合定义范围的基本操作包括：

| 操作形式         | 描述                                              |
| ---------------- | ------------------------------------------------- |
| db.name.add()    | add()方法将一个文档或文档列表插入到指定的集合中。 |
| db.name.find()   | find()方法返回指定集合中的一些或所有文档。        |
| db.name.modify() | modify()方法更新指定集合中的文档。                |
| db.name.remove() | remove()方法从指定集合中删除一个文档或文档列表。  |

#### 相关信息

- 请参阅使用集合以获取一般概述。
- CRUD EBNF定义提供了操作的完整列表。